{"version":3,"sources":["js/gallery-items.js","index.js"],"names":["preview","original","description","galleryContainer","document","querySelector","galleryMarkup","createGalleryMarkup","gallery","lightbox","lightboxOverlay","lightboxCloseBth","lightboxImage","map","join","setAttributes","src","alt","onImageClick","e","target","classList","contains","preventDefault","add","window","addEventListener","onKeydown","dataset","source","closeModal","remove","removeEventListener","onCloseBtnClick","onlightboxOverlayClick","code","currentIndex","indexOf","find","el","moveLeft","moveRight","index","length","insertAdjacentHTML"],"mappings":";;;AAAe,aAAA,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,aAAA,EAAA,IAAA,EAAA,CACb,CACEA,QAAS,uFACTC,SACE,uFACFC,YAAa,mBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,6BAEf,CACEF,QAAS,wEACTC,SAAU,wEACVC,YAAa,qBAEf,CACEF,QAAS,0EACTC,SAAU,0EACVC,YAAa,iBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,oBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,yBAEf,CACEF,QAAS,2EACTC,SAAU,2EACVC,YAAa,yBAEf,CACEF,QAAS,4EACTC,SAAU,4EACVC,YAAa,oBAEf,CACEF,QAAS,6EACTC,SAAU,6EACVC,YAAa,yBA7CF,QAAA,QAAA;;ACuGd,aAvGD,QAAA,oBAEA,IAAA,EAAA,EAAA,QAAA,0BAqGC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAnGD,MAAMC,EAAmBC,SAASC,cAAc,eAC1CC,EAAgBC,EAAoBC,EAAD,SACnCC,EAAWL,SAASC,cAAc,gBAClCK,EAAkBN,SAASC,cAAc,sBACzCM,EAAmBP,SAASC,cAAc,kCAC1CO,EAAgBR,SAASC,cAAc,oBAQ7C,SAASE,EAAoBC,GACpBA,OAAAA,EACJK,IAAI,EAAGb,QAAAA,EAASC,SAAAA,EAAUC,YAAAA,+GAKXD,yFAIDD,gCACQC,wBACRC,mDAKdY,KAAK,IAGV,SAASC,EAAcC,EAAKC,GAC1BL,EAAcI,IAAMA,EACpBJ,EAAcK,IAAMA,EAGtB,SAASC,EAAaC,GACfA,EAAEC,OAAOC,UAAUC,SAAS,oBAGjCH,EAAEI,iBAEFd,EAASY,UAAUG,IAAI,WACvBC,OAAOC,iBAAiB,UAAWC,GAEnCZ,EAAcI,EAAEC,OAAOQ,QAAQC,OAAQV,EAAEC,OAAOH,MAGlD,SAASa,IACPrB,EAASY,UAAUU,OAAO,WAC1BN,OAAOO,oBAAoB,UAAWL,GAEtCZ,EAAc,GAAI,IAGpB,SAASkB,IACPH,IAGF,SAASI,EAAuBf,GAC9BW,IAGF,SAASH,EAAUR,GACbA,GAAW,WAAXA,EAAEgB,KAEJ,YADAL,IAIIM,MAAAA,EAAe5B,EAAQ6B,QAAAA,QAAQ7B,EAAQ8B,QAAAA,KAAKC,GAAMA,EAAGtC,WAAaW,EAAcI,MAEvE,eAAXG,EAAEgB,KAKS,cAAXhB,EAAEgB,MACJK,EAASJ,GALTK,EAAUL,GAUd,SAASK,EAAUC,GACbA,IAAUlC,EAAQmC,QAAAA,OAAS,EAC7B5B,EAAcP,EAAQ,QAAA,GAAGP,SAAUO,EAAQ,QAAA,GAAGN,aAE9Ca,EAAcP,EAAQkC,QAAAA,EAAQ,GAAGzC,SAAUO,EAAQkC,QAAAA,EAAQ,GAAGxC,aAIlE,SAASsC,EAASE,GACF,IAAVA,EACF3B,EAAcP,EAAQA,QAAAA,EAAQmC,QAAAA,OAAS,GAAG1C,SAAUO,EAAQA,QAAAA,EAAQmC,QAAAA,OAAS,GAAGzC,aAEhFa,EAAcP,EAAQkC,QAAAA,EAAQ,GAAGzC,SAAUO,EAAQkC,QAAAA,EAAQ,GAAGxC,aA1FlEC,EAAiByC,mBAAmB,YAAatC,GAEjDH,EAAiBuB,iBAAiB,QAASR,GAC3CP,EAAiBe,iBAAiB,QAASO,GAC3CvB,EAAgBgB,iBAAiB,QAASQ","file":"src.09071e1f.js","sourceRoot":"../src","sourcesContent":["export default [\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825__340.jpg',\n    original:\n      'https://cdn.pixabay.com/photo/2019/05/14/16/43/himilayan-blue-poppy-4202825_1280.jpg',\n    description: 'Hokkaido Flower',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/14/22/05/container-4203677_1280.jpg',\n    description: 'Container Haulage Freight',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/09/47/beach-4206785_1280.jpg',\n    description: 'Aerial Beach View',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2016/11/18/16/19/flowers-1835619_1280.jpg',\n    description: 'Flower Blooms',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2018/09/13/10/36/mountains-3674334_1280.jpg',\n    description: 'Alpine Mountains',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/23/04/landscape-4208571_1280.jpg',\n    description: 'Mountain Lake Sailing',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/09/27/the-alps-4209272_1280.jpg',\n    description: 'Alpine Spring Meadows',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/16/21/10/landscape-4208255_1280.jpg',\n    description: 'Nature Landscape',\n  },\n  {\n    preview: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843__340.jpg',\n    original: 'https://cdn.pixabay.com/photo/2019/05/17/04/35/lighthouse-4208843_1280.jpg',\n    description: 'Lighthouse Coast Sea',\n  },\n];\n","import './sass/main.scss';\n\nimport gallery from './js/gallery-items.js';\n\nconst galleryContainer = document.querySelector('.js-gallery');\nconst galleryMarkup = createGalleryMarkup(gallery);\nconst lightbox = document.querySelector('.js-lightbox');\nconst lightboxOverlay = document.querySelector('.lightbox__overlay');\nconst lightboxCloseBth = document.querySelector('[data-action=\"close-lightbox\"]');\nconst lightboxImage = document.querySelector('.lightbox__image');\n\ngalleryContainer.insertAdjacentHTML('beforeend', galleryMarkup);\n\ngalleryContainer.addEventListener('click', onImageClick);\nlightboxCloseBth.addEventListener('click', onCloseBtnClick);\nlightboxOverlay.addEventListener('click', onlightboxOverlayClick);\n\nfunction createGalleryMarkup(gallery) {\n  return gallery\n    .map(({ preview, original, description }) => {\n      return `\n        <li class=\"gallery__item\">\n        <a\n            class=\"gallery__link\"\n            href=\"${original}\"\n        >\n            <img\n            class=\"gallery__image\"\n            src=\"${preview}\"\n            data-source=\"${original}\"\n            alt=\"${description}\"\n            />\n        </a>\n        </li>`;\n    })\n    .join('');\n}\n\nfunction setAttributes(src, alt) {\n  lightboxImage.src = src;\n  lightboxImage.alt = alt;\n}\n\nfunction onImageClick(e) {\n  if (!e.target.classList.contains('gallery__image')) {\n    return;\n  }\n  e.preventDefault();\n\n  lightbox.classList.add('is-open');\n  window.addEventListener('keydown', onKeydown);\n\n  setAttributes(e.target.dataset.source, e.target.alt);\n}\n\nfunction closeModal() {\n  lightbox.classList.remove('is-open');\n  window.removeEventListener('keydown', onKeydown);\n\n  setAttributes('', '');\n}\n\nfunction onCloseBtnClick() {\n  closeModal();\n}\n\nfunction onlightboxOverlayClick(e) {\n  closeModal();\n}\n\nfunction onKeydown(e) {\n  if (e.code === 'Escape') {\n    closeModal();\n    return;\n  }\n\n  const currentIndex = gallery.indexOf(gallery.find(el => el.original === lightboxImage.src));\n\n  if (e.code === 'ArrowRight') {\n    moveRight(currentIndex);\n    return;\n  }\n\n  if (e.code === 'ArrowLeft') {\n    moveLeft(currentIndex);\n    return;\n  }\n}\n\nfunction moveRight(index) {\n  if (index === gallery.length - 1) {\n    setAttributes(gallery[0].original, gallery[0].description);\n  } else {\n    setAttributes(gallery[index + 1].original, gallery[index + 1].description);\n  }\n}\n\nfunction moveLeft(index) {\n  if (index === 0) {\n    setAttributes(gallery[gallery.length - 1].original, gallery[gallery.length - 1].description);\n  } else {\n    setAttributes(gallery[index - 1].original, gallery[index - 1].description);\n  }\n}\n"]}